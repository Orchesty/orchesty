rabbit-mq:
    host: '127.0.0.2'          # default: 127.0.0.1
    port: '%rabbitmq.port%'          # default: 5672
    vhost: '%rabbitmq.vhost%'        # default: /
    user: '%rabbitmq.user%'          # default: guest
    password: '%rabbitmq.password%'  # default: guest
    heartbeat: 120
    persistent: true

    exchanges:
        change:
            durable: true
            type: topic

        change_done:
            durable: true
            type: topic
            bindings:
                - exchange: change
                  routing_key: "#"

        test_direct:
            durable: true
            type: direct

    queues:
        product_categorize:
            durable: true
            bindings:
                - exchange: change
                  routing_key: "change.product.#"

        test_consumer:
            durable: true
            bindings:
                - exchange: test_direct
                  routing_key: "*"

    producers:
        demo:
            class: Hanaboso\PipesFramework\RabbitMq\Impl\Demo\DemoProducer
            exchange: demo
            serializer: Commons\RabbitMq\Demo\DemoSerializer
            routing_key: demo
            mandatory: false
            immediate: true
            before_method: ''
            content_type: 'application/json'

    consumers:
        demo:
            class: Hanaboso\PipesFramework\RabbitMq\Impl\Demo\DemoConsumer
            exchange: foo
            routing_key: '*'
            queue: demo
            no_local: false
            no_ack: false
            exclusive: false
            nowait: false
            arguments:
                 arg: 1
            prefetch_count: null
            prefetch_size: null
            serializer: Commons\RabbitMq\Demo\DemoSerializer
            set_up_method: null
            tick_method: null
            tick_seconds: null
            max_messages: null
            max_seconds: null
            consumer_tag: 'abc'
            callback: null

    async_consumers:
        demo:
            class: Hanaboso\PipesFramework\RabbitMq\Impl\Demo\DemoConsumer
            exchange: foo
            routing_key: '*'
            queue: demo
            no_local: false
            no_ack: false
            exclusive: false
            nowait: false
            arguments:
                 arg: 1
            prefetch_count: null
            prefetch_size: null
            serializer: Commons\RabbitMq\Demo\DemoSerializer
            consumer_tag: 'abc'
            callback: null


