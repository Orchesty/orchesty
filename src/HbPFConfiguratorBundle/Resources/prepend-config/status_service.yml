# STATUS SERVICE
rabbit-mq:

    queues:
        pipes.results:
            durable: true

    consumers:
        status-service:
            class: Hanaboso\PipesFramework\Configurator\StatusService\StatusServiceConsumer
            queue: pipes.results
            serializer: Hanaboso\PipesFramework\RabbitMq\Serializers\JsonSerializer
            callback: hanaboso.pipes_framework.commons.status_service.status_service_callback
            prefetch_count: 100

services:
    # callback for status service
    hanaboso.pipes_framework.commons.status_service.status_service_callback:
        class: Hanaboso\PipesFramework\Configurator\StatusService\StatusServiceCallback
        arguments:
            - '@event_dispatcher'
        calls:
            - [setRepeater, ['@hanaboso.pipes_framework.commons.rabbit_mq.repeater.repeater']]
